function init_page($PAGE){$PAGE.params?eval("$PAGE.params="+$PAGE.params):$PAGE.params={},$PAGE.params[$PAGE.prefix+"pageNo"]||($PAGE.params[$PAGE.prefix+"pageNo"]=$PAGE.pageNo),$PAGE.params[$PAGE.prefix+"pagePerSize"]||($PAGE.params[$PAGE.prefix+"pagePerSize"]=$PAGE.pagePerSize),init_language($("#"+$PAGE.tag+" #div_pagination .toPage")),$PAGE.checkbox.able==1&&checkbox_init($PAGE),$("#"+$PAGE.tag).data($PAGE),$PAGE.lazy?lazy_init($PAGE):pager($PAGE,$PAGE.pageNo,$PAGE.pagePerSize)}function pager_refurbish(e){pager($("#"+e).data())}function pager(e,t,n){var r=$("#"+e.tag).find("#"+e.idTable),i=$("#"+e.tag).find("#div_black"),s=$("#"+e.tag).find("#div_load"),o=$("#"+e.tag).find("#div_pagination");pager_shade_start(e,r,i,s,o),n&&$.each(n,function(t,n){e.params[t]=n}),t&&(e.params[e.prefix+"pageNo"]=t),e.checkbox.able&&e.checkbox.keep==0&&checkbox_clear(e,r),$.ajax({type:"POST",url:e.url,data:e.params,success:function(t){t.data!=null&&t.data.length>0?pager_success(e,r,i,s,o,t):pager_colspan_item(e,r,i,s,o,$PAGE_LOCAL.MSG.EMPTY_DATA)},error:function(t,n,u){pager_colspan_item(e,r,i,s,o,"<font color='red'>"+$PAGE_LOCAL.MSG.ERROR_REQUEST+"</font>")}})}function addTr(e,t,n){e.checkbox.able?t.find("tr:last").before(n):t.append(n)}function pager_colspan_item(e,t,n,r,i,s){t.find("."+e.classTr).remove();var o=$("<tr class='"+e.classTr+"'><td colspan='"+t.find("tr").children("th:visible").size()+"' >"+s+"</td></tr>");addTr(e,t,o),pager_shade_end(e,t,n,r,i)}function pager_success(e,t,n,r,i,s){t.find("."+e.classTr).remove(),$.each(s.data,function(n,r){var i=pager_item(e,t,n,r);e.handle&&(i=parse_handle(e,i,r)),addTr(e,t,i)}),callback_manager(e),pager_pagination_parse(e,s),pager_shade_end(e,t,n,r,i),pager_unlock(e,t,i)}function pager_item(e,t,n,r){var i=$("<tr class='"+e.classTr+"'></tr>");return e.checkbox.able==1&&fit_checkbox(e,i,r),$.each(e.cols,function(t,n){var s=$("<td></td>");pager_item_col_parse(e,s,n,r);if(n.tip){var o=n.tip,u=n.tip.indexOf("${"),a=n.tip.indexOf("}");if(u>=0&&a>u){var f=n.tip.substring(u,a+1);o=n.tip.replace(f,r[f.substring(2,f.length-1)])}s.attr("title",o)}(!n.text||n.hide==1)&&s.hide(),i.append(s)}),i}function pager_item_col_parse(e,t,n,r){var i=json_exec_val(r,n.attr);i==null&&n.nullValue!=null&&(i=n.nullValue),n.formatDecimals&&(i=decimals_parse(n.formatDecimals,i)),n.array&&(i=array_parse(e,n.array,i));if(n.replace){var s=i;n.replace.attr&&(s=json_exec_val(r,n.replace.attr)),i=replace_parse(n.replace,i,s)}n.img&&(i=img_parse(n.img,i)),n.maxlength&&i.length>n.maxlength&&(i=i.substring(0,n.maxlength)+"..."),n.link&&(i=link_parse(e,r,i,n.link)),t.append(i)}function json_exec_val(json,attr){if(json==null||attr==null)return null;var value=null;if(isNaN(attr)){var sign="json";attr.indexOf("[")!=0&&(sign+=".");try{value=eval(sign+attr)}catch(e){value=null}}else value=eval("json["+attr+"]");return value}